{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","state","image","handleChange","e","props","openModal","onChangeCurrentImage","item","largeImageURL","this","className","s","src","webformatURL","alt","tags","ImageGalleryItem_image","onClick","id","Component","ImageGallery","handleImage","data","map","i","Searchbar","query","setState","currentTarget","value","handleSubmit","preventDefault","onSubmit","SearchForm","type","SearchForm_button","SearchForm_button_labe","SearchForm_input","onChange","autoComplete","autoFocus","placeholder","Button","window","scrollTo","top","document","documentElement","scrollHeight","behavior","Spinner","color","height","width","modalRoot","querySelector","Modal","handleKeyDown","code","onClose","handleOverlayClick","target","addEventListener","removeEventListener","createPortal","Overlay","App","currentPage","searchQuery","isLoading","error","currentImage","showModal","toggleModal","prevState","onChangeQuery","imageUrl","fetchImages","axios","get","then","response","hits","catch","finally","prevProps","shouldRenderLoadMoreButton","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,uBAAyB,mD,mBCAzGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,qLC+BZC,E,4MA5BbC,MAAQ,CACNC,MAAO,I,EAGTC,aAAe,SAAAC,GAIb,EAAKC,MAAMC,YACX,EAAKD,MAAME,qBAAqB,EAAKF,MAAMG,KAAKC,gB,4CAGlD,WAAU,IACAD,EAASE,KAAKL,MAAdG,KAER,OACE,oBAAkBG,UAAWC,IAAEZ,iBAA/B,SACE,qBACEa,IAAKL,EAAKM,aACVC,IAAKP,EAAKQ,KACVL,UAAWC,IAAEK,uBACbC,QAASR,KAAKP,gBALTK,EAAKW,Q,GAjBWC,aCuBhBC,E,4MArBbC,YAAc,SAAAlB,GACZ,EAAKC,MAAME,qBAAqBH,I,4CAGlC,WAAU,IAAD,OACCmB,EAASb,KAAKL,MAAdkB,KAER,OACE,oBAAIZ,UAAWC,IAAES,aAAjB,SACGE,EAAKC,KAAI,SAAAC,GAAC,OACT,cAAC,EAAD,CACEjB,KAAMiB,EACNlB,qBAAsB,EAAKe,YAC3BhB,UAAW,EAAKD,MAAMC,qB,GAdPc,a,gBCyCZM,E,4MAzCbzB,MAAQ,CACN0B,MAAO,I,EAGTxB,aAAe,SAAAC,GACb,EAAKwB,SAAS,CAAED,MAAOvB,EAAEyB,cAAcC,S,EAGzCC,aAAe,SAAA3B,GACbA,EAAE4B,iBAEF,EAAK3B,MAAM4B,SAAS,EAAKhC,MAAM0B,OAE/B,EAAKC,SAAS,CAAED,MAAO,M,4CAGzB,WAAU,IACAA,EAAUjB,KAAKT,MAAf0B,MAER,OACE,wBAAQhB,UAAWC,IAAEc,UAArB,SACE,uBAAMO,SAAUvB,KAAKqB,aAAcpB,UAAWC,IAAEsB,WAAhD,UACE,wBAAQC,KAAK,SAASxB,UAAWC,IAAEwB,kBAAnC,SACE,sBAAMzB,UAAWC,IAAEyB,2BAGrB,uBACE1B,UAAWC,IAAE0B,iBACbH,KAAK,OACLL,MAAOH,EACPY,SAAU7B,KAAKP,aACfqC,aAAa,MACbC,WAAS,EACTC,YAAY,sP,GAlCAtB,a,iBCgBTuB,E,wKAfb,WACEC,OAAOC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,a,oBAGd,WACE,OACE,wBAAQhC,QAASR,KAAKL,MAAMa,QAASP,UAAWC,IAAE+B,OAAQR,KAAK,SAA/D,8F,GATef,a,iBCMN+B,E,4JALb,WACE,OAAO,cAAC,IAAD,CAAQhB,KAAK,OAAOiB,MAAM,UAAUC,OAAQ,GAAIC,MAAO,S,GAF5ClC,a,iBCChBmC,EAAYR,SAASS,cAAc,eAkC1BC,E,4MAvBbC,cAAgB,SAAAtD,GACC,WAAXA,EAAEuD,MACJ,EAAKtD,MAAMuD,W,EAIfC,mBAAqB,SAAAzD,GACfA,EAAEyB,gBAAkBzB,EAAE0D,QACxB,EAAKzD,MAAMuD,W,uDAhBf,WACEhB,OAAOmB,iBAAiB,UAAWrD,KAAKgD,iB,kCAG1C,WACEd,OAAOoB,oBAAoB,UAAWtD,KAAKgD,iB,oBAe7C,WACE,OAAOO,uBACL,qBAAKtD,UAAWC,IAAEsD,QAAShD,QAASR,KAAKmD,mBAAzC,SACE,qBAAKlD,UAAWC,IAAE6C,MAAlB,SACE,qBAAK5C,IAAKH,KAAKL,MAAMH,MAAOa,IAAI,SAGpCwC,O,GA5BcnC,a,iBCqFL+C,G,kNAjFblE,MAAQ,CACNC,MAAO,GACPkE,YAAa,EACbC,YAAa,GACbC,WAAW,EACXC,MAAO,KACPC,aAAc,GACdC,WAAW,G,EASbC,YAAc,WACZ,EAAK9C,UAAS,SAAA+C,GAAS,MAAK,CAAEF,WAAYE,EAAUF,e,EAGtDG,cAAgB,SAAAjD,GACd,EAAKC,SAAS,CACZyC,YAAa1C,EACbyC,YAAa,EACblE,MAAO,GACPqE,MAAO,Q,EAIXhE,qBAAuB,SAAAsE,GACrB,EAAKjD,SAAS,CACZ4C,aAAcK,K,EAIlBC,YAAc,WACZ,IADkB,EAEmB,EAAK7E,MAAlCmE,EAFU,EAEVA,YAAaC,EAFH,EAEGA,YAErB,EAAKzC,SAAS,CAAE0C,WAAW,IAE3BS,IACGC,IADH,uCALe,qCAKf,cAEgDX,EAFhD,8CAEiGD,IAE9Fa,MAAK,SAAAC,GACJ,EAAKtD,UAAS,SAAA+C,GAAS,MAAK,CAC1BzE,MAAM,GAAD,mBAAMyE,EAAUzE,OAAhB,YAA0BgF,EAAS3D,KAAK4D,OAC7Cf,YAAaO,EAAUP,YAAc,SAGxCgB,OAAM,SAAAb,GAAK,OAAI,EAAK3C,SAAS,CAAE2C,aAC/Bc,SAAQ,kBAAM,EAAKzD,SAAS,CAAE0C,WAAW,Q,wDA1C9C,SAAmBgB,EAAWX,GACxBA,EAAUN,cAAgB3D,KAAKT,MAAMoE,aACvC3D,KAAKoE,gB,oBA2CT,WAAU,IAAD,EACsDpE,KAAKT,MAA1DC,EADD,EACCA,MAAOoE,EADR,EACQA,UAAWC,EADnB,EACmBA,MAAOE,EAD1B,EAC0BA,UAAWD,EADrC,EACqCA,aACtCe,EAA6BrF,EAAMsF,OAAS,IAAMlB,EAExD,OACE,mCACE,sBAAK3D,UAAU,MAAf,UACG4D,GAAS,yPACV,cAAC,EAAD,CAAWtC,SAAUvB,KAAKkE,gBAC1B,cAAC,EAAD,CACErD,KAAMrB,EACNK,qBAAsBG,KAAKH,qBAC3BD,UAAWI,KAAKgE,cAEjBD,GACC,cAAC,EAAD,CAAOb,QAASlD,KAAKgE,YAAaxE,MAAOsE,IAG1CF,GAAa,cAAC,EAAD,IACbiB,GAA8B,cAAC,EAAD,CAAQrE,QAASR,KAAKoE,uB,GA3E7C1D,cCHlBqE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF5C,SAAS6C,eAAe,U,kBCT1B9F,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,kBAAoB,qCAAqC,wBAA0B,2CAA2C,iBAAmB,uC","file":"static/js/main.64274eaa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3elZF\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__ZGKVU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__202aH\",\"Modal\":\"Modal_Modal__179nx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3_009\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__A35-n\"};","import React, { Component } from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  state = {\r\n    image: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    // this.setState({\r\n    //   image: this.props.item.largeImageURL,\r\n    // });\r\n    this.props.openModal();\r\n    this.props.onChangeCurrentImage(this.props.item.largeImageURL);\r\n  };\r\n\r\n  render() {\r\n    const { item } = this.props;\r\n\r\n    return (\r\n      <li key={item.id} className={s.ImageGalleryItem}>\r\n        <img\r\n          src={item.webformatURL}\r\n          alt={item.tags}\r\n          className={s.ImageGalleryItem_image}\r\n          onClick={this.handleChange}\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from 'react';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nclass ImageGallery extends Component {\r\n  handleImage = e => {\r\n    this.props.onChangeCurrentImage(e);\r\n  };\r\n\r\n  render() {\r\n    const { data } = this.props;\r\n\r\n    return (\r\n      <ul className={s.ImageGallery}>\r\n        {data.map(i => (\r\n          <ImageGalleryItem\r\n            item={i}\r\n            onChangeCurrentImage={this.handleImage}\r\n            openModal={this.props.openModal}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\r\n          <button type=\"submit\" className={s.SearchForm_button}>\r\n            <span className={s.SearchForm_button_labe}></span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchForm_input}\r\n            type=\"text\"\r\n            value={query}\r\n            onChange={this.handleChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Начните поиск интересующих вас изображений\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from 'react';\r\nimport s from './Button.module.css';\r\n\r\nclass Button extends Component {\r\n  componentWillMount() {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <button onClick={this.props.onClick} className={s.Button} type=\"button\">\r\n        Загрузить еще...\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import Loader from 'react-loader-spinner';\r\nimport React, { Component } from 'react';\r\n\r\nclass Spinner extends Component {\r\n  render() {\r\n    return <Loader type=\"Puff\" color=\"#ff3a00\" height={60} width={60} />;\r\n  }\r\n}\r\n\r\nexport default Spinner;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleOverlayClick}>\r\n        <div className={s.Modal}>\r\n          <img src={this.props.image} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\nexport default Modal;\r\n","import React, { Component } from 'react';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport Button from './components/Button/Button';\nimport Spinner from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\nimport axios from 'axios';\nimport './styles.css';\n\nclass App extends Component {\n  state = {\n    image: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    currentImage: '',\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  toggleModal = () => {\n    this.setState(prevState => ({ showModal: !prevState.showModal }));\n  };\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      image: [],\n      error: null,\n    });\n  };\n\n  onChangeCurrentImage = imageUrl => {\n    this.setState({\n      currentImage: imageUrl,\n    });\n  };\n\n  fetchImages = () => {\n    const ourKey = '20021073-06e49a3937cc05a529719264b';\n    const { currentPage, searchQuery } = this.state;\n\n    this.setState({ isLoading: true });\n\n    axios\n      .get(\n        `https://pixabay.com/api/?key=${ourKey}&q=${searchQuery}&image_type=photo&per_page=12&page=${currentPage}`,\n      )\n      .then(response => {\n        this.setState(prevState => ({\n          image: [...prevState.image, ...response.data.hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const { image, isLoading, error, showModal, currentImage } = this.state;\n    const shouldRenderLoadMoreButton = image.length > 0 && !isLoading;\n\n    return (\n      <>\n        <div className=\"App\">\n          {error && <h1>Произошла ошибка, повторите запрос позже</h1>}\n          <Searchbar onSubmit={this.onChangeQuery} />\n          <ImageGallery\n            data={image}\n            onChangeCurrentImage={this.onChangeCurrentImage}\n            openModal={this.toggleModal}\n          />\n          {showModal && (\n            <Modal onClose={this.toggleModal} image={currentImage} />\n          )}\n\n          {isLoading && <Spinner />}\n          {shouldRenderLoadMoreButton && <Button onClick={this.fetchImages} />}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__PxmxC\",\"SearchForm\":\"Searchbar_SearchForm__3DMvW\",\"SearchForm_button\":\"Searchbar_SearchForm_button__rjnrp\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__1YsXi\",\"SearchForm_input\":\"Searchbar_SearchForm_input__gVECj\"};"],"sourceRoot":""}